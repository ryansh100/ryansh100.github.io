{"version":3,"sources":["app.js","colorPalette.js","create.js","encoding.js","environment.js","main.js","storage.js","clients/8brick.js","descriptor/assembly.js","descriptor/axle-sockets.js","descriptor/axles.js","descriptor/bars.js","descriptor/clips.js","descriptor/colors.js","descriptor/dashboard.js","descriptor/height.js","descriptor/hinge.js","descriptor/index.js","descriptor/mini-bar.js","descriptor/pin-sockets.js","descriptor/pins.js","descriptor/printed.js","descriptor/sleeves.js","descriptor/sockets.js","descriptor/sticker.js","descriptor/studs.js","panel/index.js","panel/responsive.js","resources/index.js","resources/value-converters/color.js","resources/value-converters/hasValuesFor.js","resources/value-converters/hinge.js"],"names":["App","configureRouter","config","router","title","map","route","name","viewPorts","top","moduleId","bottom","Color","id","common","pantone","hex","usage","length","Colors","Map","CreateBbid","storage","eightBrick","elementId","photo","reader","FileReader","photoData","onloadend","result","bbid","busy","activate","read","doc","BBID","previewImage","fileHandle","fileInput","files","readAsDataURL","create","catch","then","document","getElementById","Encode","radix","value","r","encodeInt","padRight","any","padWith","str","toString","repeatFor","toBBID","descriptor","$id","isAssembly","$block","studOrientations","forEach","arr","max","min","adjustment","$heightBlock","height","$hingeBlock","orientation","type","$socketBlock","sockets","$clipsBlock","clips","count","axleSockets","$axleBlock","axles","lengthUnit","$pinsBlock","pins","$pinSocketsBlock","pinSockets","$barsBlock","bars","$sleeveBlock","sleeves","isMiniBar","$colorBlock","colors","color","colorId","stickerMin","stickerMax","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","Storage","db","update","key","data","_id","put","get","listen","listener","options","since","live","include_docs","changes","on","change","EightBrick","httpClient","useStandardConfiguration","withBaseUrl","withDefaults","headers","http","method","body","fetch","DescriptorAssembly","store","toggleAssembly","updateAxles","DescriptorAxles","axle0","AxleArrangement","show","axle1","axle2","axle3","changeCallback","axlesChanged","attached","h","index","Object","assign","removeSide","axle","toggle","Math","round","DescriptorBars","bar0","BarArrangement","bar1","bar2","bar3","barsChanged","bar","DescriptorClips","clip0","ClipArrangement","clip1","clip2","clip3","clipsChanged","clip","DescriptorColor","colorsChanged","color0","ColorOption","color1","color2","color3","cb","removeColor","clearColorId","_searchTerm","_searchMatches","searchForColor","splice","terms","toLowerCase","replace","split","matches","termHits","nameMatch","indexOf","t","commonMatch","idMatch","hasMatch","has","set","match","push","selectColor","searchTerm","sort","a","b","css","DescriptorDashboard","settingsListener","settings","keys","undefined","detached","cancel","DescriptorHeight","updateHeight","DescriptorHinge","hinge0","HingeArrangement","hinge1","hinge2","hingesChanged","hinges","removeOrientation","hinge","HingeOrientation","HingeType","DescriptorIndex","navigatingTo","routes","nav","params","instruction","find","path","clearAttributes","_rev","DescriptorMiniBar","toggleMiniBar","DescriptorPinSockets","pinSocket0","PinSocketArrangement","pinSocket1","pinSocket2","pinSocket3","pinSocketsChanged","pinSocket","DescriptorPins","pin0","PinArrangement","pin1","pin2","pinsChanged","pin","DescriptorPrinted","isPrinted","togglePrinted","DescriptorSleeves","sleeve0","SleeveArrangement","sleeve1","sleeve2","sleeve3","sleevesChanged","sleeve","DescriptorSocket","socket0","SocketArrangement","socket1","socket2","socket3","socket4","socketsChanged","socket","DescriptorSticker","updateSticker","DescriptorStuds","orientation0","StudOrientation","orientation1","orientation2","orientation3","orientation4","studsChanged","adjusment","Panel","Responsive","qr","updateDescriptor","element","globalResources","idToColorCssValueConverter","toView","idToColorCommonNameValueConverter","idToColorNameValueConverter","hasValuesForValueConverter","Array","prototype","slice","call","arguments","source","properties","hasValues","reduce","acc","toHingeOrientationValueConverter","toHingeTypeValueConverter"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\r\n  constructor() {\r\n\r\n  }\r\n  configureRouter(config, router) {\r\n    config.title = 'BBID';\r\n    config.map([\r\n      {\r\n        route: ['', '*path'],\r\n        name: 'home',\r\n        viewPorts: {\r\n          top: {\r\n            moduleId: 'panel/index'\r\n          },\r\n          bottom: {\r\n            moduleId: 'descriptor/index'\r\n          }\r\n        }\r\n      }\r\n    ]);\r\n  }\r\n}\r\n","export class Color{\r\n  constructor(id, name, common, pantone, hex, usage){\r\n    this.id = id;\r\n    this.name = name;\r\n    this.common = common;\r\n    this.pantone = pantone;\r\n    this.hex = hex;\r\n    this.usage = usage;\r\n  }\r\n\r\n  get css() {\r\n    if(this.hex.length === 0){\r\n      return 'transparent';\r\n    }\r\n    return `#${this.hex}`;\r\n  }\r\n}\r\n/** Provided from {@link http://www.peeron.com/inv/colors}*/\r\nexport let Colors = new Map([\r\n  [1, new Color(1, 'White', 'White', 'CoolGrey 1 C', 'F2F3F2', 133071)],\r\n  [2, new Color(2, 'Grey', 'Light Gray', '422 C', 'A1A5A2', 86689)],\r\n  [3, new Color(3, 'Light yellow', 'Light Yellow', '1215 C', 'F9E999', 327)],\r\n  [4, new Color(4, 'Brick Red', 'Salmon', '', '', 187)],\r\n  [5, new Color(5, 'Brick yellow', 'Tan', '467 C', 'D7C599', 20819)],\r\n  [6, new Color(6, 'Light green', 'Light Green', '351 C', 'C2DAB8', 206)],\r\n  [11, new Color(11, 'Pastel Blue', 'Maersk Blue', '', '', 670)],\r\n  [12, new Color(12, 'Light Orange Brown', 'Earth Orange', '1385 C', 'CB8442', 272)],\r\n  [16, new Color(16, 'Pink', 'Pink', '', '', 693)],\r\n  [18, new Color(18, 'Nougat', 'Flesh', '472 C', 'CC8E68', 221)],\r\n  [20, new Color(20, 'Nature', 'Milky White', '', '', 186)],\r\n  [21, new Color(21, 'Bright red', 'Red', '032 C', 'C4281B', 119562)],\r\n  [22, new Color(22, 'Medium Reddish Violet', 'Medium Dark Pink', '2375 C', 'C470A0', 33)],\r\n  [23, new Color(23, 'Bright Blue', 'Blue', '293 C', '0D69AB', 78234)],\r\n  [24, new Color(24, 'Bright yellow', 'Yellow', '116 C', 'F5CD2F', 85145)],\r\n  [25, new Color(25, 'Earth Orange', 'Brown', '469 C', '62473B', 8519)],\r\n  [26, new Color(26, 'Black', 'Black', 'Process Black C', '1B2A34', 237479)],\r\n  [27, new Color(27, 'Dark grey', 'Dark Gray', '418 C', '6D6E6C', 22719)],\r\n  [28, new Color(28, 'Dark green', 'Green', '348 C', '287F46', 24767)],\r\n  [29, new Color(29, 'Medium green', 'Medium Green', '353 C', 'A1C48B', 226)],\r\n  [36, new Color(36, 'Light Yellowish Orange', 'Very Light Orange', '148 C', 'F3CF9B', 8)],\r\n  [37, new Color(37, 'Bright Green', 'Bright Green', '355 C', '4B974A', 1251)],\r\n  [38, new Color(38, 'Dark Orange', 'Dark Orange', '471 C', 'A05F34', 856)],\r\n  [39, new Color(39, 'Light bluish violet', 'Light Violet', '2706 C', 'C1CADE', 155)],\r\n  [40, new Color(40, 'Transparent', 'Trans-Clear', 'CoolGrey 1 C', 'ECECEC', 11516)],\r\n  [41, new Color(41, 'Tr. Red', 'Trans-Red', '185 C', 'CD544B', 7099)],\r\n  [42, new Color(42, 'Tr. Lg blue', 'Trans-Light Blue', '304 C', 'C1DFF0', 3066)],\r\n  [43, new Color(43, 'Tr. Blue', 'Trans-Dark Blue', '298 C', '7BB6E8', 4277)],\r\n  [44, new Color(44, 'Tr. Yellow', 'Trans-Yellow', '393 C', 'F7F18D', 4530)],\r\n  [45, new Color(45, 'Light blue', 'Light Blue', '545 C', 'B4D2E3', 387)],\r\n  [47, new Color(47, 'Tr. Flu. Reddish orange', 'Trans-Neon Orange', '165 C', 'D9856C', 3023)],\r\n  [48, new Color(48, 'Tr. Green', 'Trans-Green', '360 C', '84B68D', 1974)],\r\n  [49, new Color(49, 'Tr. Flu. Green', 'Trans-Neon Green', '387 C', 'F8F184', 3788)],\r\n  [50, new Color(50, 'Phosp. White', 'Glow In Dark Opaque', '427 C', 'ECE8DE', 180)],\r\n  [100, new Color(100, 'Light red', 'Light Salmon', '169 C', 'EEC4B6', 153)],\r\n  [102, new Color(102, 'Medium blue', 'Medium Blue', '284 C', '6E99C9', 3593)],\r\n  [103, new Color(103, 'Light grey', 'Very Light Gray', '421 C', 'C7C1B7', 406)],\r\n  [104, new Color(104, 'Bright violet', 'Purple', '2592 C', '6B327B', 987)],\r\n  [105, new Color(105, 'Br. yellowish orange', 'Medium Orange', '137 C', 'E29B3F', 591)],\r\n  [106, new Color(106, 'Bright orange', 'Orange', '151 C', 'DA8540', 7413)],\r\n  [107, new Color(107, 'Bright bluish green', 'Dark Turquoise', '327 C', '008F9B', 1053)],\r\n  [110, new Color(110, 'Bright Bluish Violet', 'Violet', '327 C', '435493', 192)],\r\n  [111, new Color(111, 'Tr. Brown', 'Trans-Black', 'WarmGrey 3 C', 'BFB7B1', 1789)],\r\n  [112, new Color(112, 'Medium Bluish Violet', 'Blue-Violet', '2726 C', '6874AC', 219)],\r\n  [113, new Color(113, 'Tr. Medi. reddish violet', 'Trans-Dark Pink', '230 c', 'E4ADC8', 1149)],\r\n  [114, new Color(114, 'Tr. Medium Reddish-Violet w. Glitter 2%', 'Glitter Trans-Dark Pink', '', '', 119)],\r\n  [115, new Color(115, 'Med. yellowish green', 'Medium Lime', '381 C', 'C7D23C', 148)],\r\n  [116, new Color(116, 'Med. bluish green', 'Light Turquoise', '326 c', '55A5AF', 37)],\r\n  [117, new Color(117, 'Transparent Glitter', 'Glitter Trans-Clear', '', '', 7)],\r\n  [118, new Color(118, 'Light bluish green', 'Aqua', '324 C', 'B7D7D5', 203)],\r\n  [119, new Color(119, 'Br. yellowish green', 'Lime', '390 C', 'A4BD46', 4213)],\r\n  [120, new Color(120, 'Lig. yellowish green', 'Light Lime', '365 C', 'D9E4A7', 25)],\r\n  [124, new Color(124, 'Bright reddish violet', 'Magenta', '241 C', '923978', 250)],\r\n  [125, new Color(125, 'Light Orange', 'Light Orange', '1555 C', 'EAB891', 97)],\r\n  [126, new Color(126, 'Tr. Bright bluish violet', 'Trans-Purple', '271 C', 'A5A5CB', 430)],\r\n  [127, new Color(127, 'Gold', 'Pearl Light Gold', '156 C', 'DCBC81', 692)],\r\n  [128, new Color(128, 'Dark Nougat', '', '471 C', 'AE7A59', 11)],\r\n  [129, new Color(129, 'Tr. Bright Bluish Violet w. Glitter 2%', 'Glitter Trans-Purple', '', '', 11)],\r\n  [131, new Color(131, 'Silver', 'Pearl Light Gray', '429 C', '9CA3A8', 3713)],\r\n  [132, new Color(132, '[Black Glitter]', 'Speckle Black-Silver', '', '', 187)],\r\n  [135, new Color(135, 'Sand blue', 'Sand Blue', '5415 C', '74869C', 1019)],\r\n  [136, new Color(136, 'Sand violet', 'Sand Purple', '666 C', '877C90', 60)],\r\n  [138, new Color(138, 'Sand yellow', 'Dark Tan', '451 C', '958A73', 1320)],\r\n  [139, new Color(139, 'Copper', 'Copper', '', '', 205)],\r\n  [140, new Color(140, 'Earth blue', 'Dark Blue', '2955 C', '203A56', 4191)],\r\n  [141, new Color(141, 'Earth Green', 'Dark Green', '350 C', '27462C', 1955)],\r\n  [143, new Color(143, 'Tr. Flu. Blue', 'Trans-Medium Blue', '657 C', 'CFE2F7', 295)],\r\n  [145, new Color(145, 'Sand blue metallic', 'Metal Blue', '652 C', '7988a1', 131)],\r\n  [148, new Color(148, 'Metallic Dark Grey', 'Pearl Dark Gray', '446 C', '575857', 451)],\r\n  [151, new Color(151, 'Sand green', 'Sand Green', '624 C', '789081', 4496)],\r\n  [153, new Color(153, 'Sand red', 'Sand Red', '4995 C', '957976', 560)],\r\n  [154, new Color(154, 'Dark red', 'Dark Red', '194 C', '7B2E2F', 5920)],\r\n  [157, new Color(157, 'Transparent Fluorescent Yellow', 'Trans-Neon Yellow', '', '', 91)],\r\n  [158, new Color(158, 'Tr. Flu. Red', '', '211 C', 'E1A4C2', 18)],\r\n  [176, new Color(176, 'Red Flip/Flop', '', '', '', 0)],\r\n  [178, new Color(178, 'Yellow Flip/Flop', '', '', '', 0)],\r\n  [179, new Color(179, 'Silver flip/flop', 'Flat Silver', '', '', 728)],\r\n  [180, new Color(180, 'Curry', '', '131 C', 'D7A94B', 18)],\r\n  [182, new Color(182, 'Tr. Bright Orange', 'Trans-Orange', '', '', 1200)],\r\n  [183, new Color(183, 'Metallic White', '', '', '', 4)],\r\n  [187, new Color(187, 'Sand Yellow Metallic', 'Flat Dark Gold', '', '', 258)],\r\n  [191, new Color(191, 'Flame yellowish orange', 'Bright Light Orange', '137 C', 'E8AB2D', 253)],\r\n  [192, new Color(192, 'Reddish Brown', 'Reddish Brown', '499 C', '694027', 10624)],\r\n  [194, new Color(194, 'Medium stone grey', 'Light Bluish Gray', '429 C', 'A3A2A4', 66528)],\r\n  [196, new Color(196, 'Dark Royal blue', 'Dark Blue-Violet', '', '', 5)],\r\n  [198, new Color(198, 'Bright Reddish Lilac', 'Light Purple', '254 C', '8E4285', 62)],\r\n  [199, new Color(199, 'Dark stone grey', 'Dark Bluish Gray', '431 C', '635F61', 50228)],\r\n  [200, new Color(200, 'Lemon Metallic', 'Metallic Green', '', '', 32)],\r\n  [208, new Color(208, 'Light stone grey', 'Very Light Bluish Gray', '428 C', 'E5E4DE', 350)],\r\n  [212, new Color(212, 'Light Royal blue', 'Bright Light Blue', '292 C', '9FC3E9', 2)],\r\n  [216, new Color(216, 'Rust', 'Rust', '174 C', '8F4C2A', 20)],\r\n  [217, new Color(217, 'Brown', 'Dark Flesh', '161 C', '7C5C45', 87)],\r\n  [221, new Color(221, 'Bright Purple', 'Dark Pink', '232 C', 'CD6298', 1311)],\r\n  [222, new Color(222, 'Light Purple', 'Bright Pink', '236 C', 'E4ADC8', 51)],\r\n  [223, new Color(223, 'Light Pink', 'Light Pink', '183 C', 'DC9095', 242)],\r\n  [226, new Color(226, 'Cool Yellow', 'Bright Light Yellow', '120 C', 'FDEA8C', 34)],\r\n  [232, new Color(232, 'Dove blue', 'Sky Blue', '311 C', '7DBBDD', 105)],\r\n  [268, new Color(268, 'Medium Lilac', 'Dark Purple', '2685 C', '342B75', 418)],\r\n  [283, new Color(283, 'Light Nougat', 'Light Flesh', '', '', 346)],\r\n  [294, new Color(294, 'Phosh. Green', 'Glow In Dark Trans', '', '', 9)],\r\n  [297, new Color(297, 'Warm Gold', 'Pearl Gold', '', '', 197)],\r\n  [301, new Color(301, '[Silver]', 'Chrome Silver', '', '', 1287)],\r\n  [308, new Color(308, 'Dark Brown', 'Dark Brown', '', '', 714)],\r\n  [311, new Color(311, 'Transparent Bright Green', 'Trans-Bright Green', '', '', 122)],\r\n  [312, new Color(312, 'Medium Nougat', 'Medium Dark Flesh', '', '', 142)],\r\n  [321, new Color(321, 'Dark Azur', 'Dark Azure', '', '', 3)],\r\n  [323, new Color(323, 'Aqua', 'Light Aqua', '', '', 0)],\r\n  [9000, new Color(9000, '', 'Speckle Black-Copper', '', '', 10)],\r\n  [9001, new Color(9001, '', 'Speckle Black-Gold', '', '', 0)],\r\n  [9004, new Color(9004, '', 'Chrome Black', '', '', 3)],\r\n  [9005, new Color(9005, '', 'Chrome Blue', '', '', 23)],\r\n  [9006, new Color(9006, '', 'Chrome Antique Brass', '', '', 29)],\r\n  [9007, new Color(9007, '', 'Chrome Gold', '', '', 877)],\r\n  [9008, new Color(9008, '', 'Chrome Green', '', '', 2)],\r\n  [9009, new Color(9009, '', 'Chrome Pink', '', '', 11)],\r\n  [9010, new Color(9010, '', 'Speckle DBGray-Silver', '', '', 5)],\r\n  [9011, new Color(9011, '', 'Fabuland Brown', '', '', 106)],\r\n  [9014, new Color(9014, '', 'Lavender', '', '', 0)],\r\n  [9016, new Color(9016, '', 'Medium Azure', '', '', 0)],\r\n  [9017, new Color(9017, '', 'Medium Lavender', '', '', 0)],\r\n  [9018, new Color(9018, '', 'Medium Violet', '', '', 21)],\r\n  [9020, new Color(9020, '', 'Metallic Gold', '', '', 159)],\r\n  [9021, new Color(9021, '', 'Metallic Silver', '', '', 897)],\r\n  [9023, new Color(9023, '', 'Olive Green', '', '', 0)],\r\n  [9025, new Color(9025, '', 'Pearl Very Light Gray', '', '', 0)],\r\n  [9026, new Color(9026, '', 'Pearl White', '', '', 47)],\r\n  [9029, new Color(9029, '', 'Trans-Very Lt Blue', '', '', 45)],\r\n  [9030, new Color(9030, '', 'Trans-Light Purple', '', '', 34)],\r\n  [9032, new Color(9032, '', 'Trans-Pink', '', '', 251)]\r\n]);\r\n","import {Storage} from 'storage';\r\nimport {Encode} from 'encoding';\r\nimport {EightBrick} from 'clients/8brick';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage, EightBrick)\r\nexport class CreateBbid {\r\n  constructor(storage, eightBrick){\r\n    this.eightBrick = eightBrick;\r\n    this.storage = storage;\r\n    this.elementId = '';\r\n    this.photo = null;\r\n    this.reader = new FileReader();\r\n    this.photoData = '';\r\n\r\n    this.reader.onloadend = () => {\r\n      this.photoData = this.reader.result;\r\n    };\r\n\r\n    this.bbid = '';\r\n    this.busy = false;\r\n  }\r\n\r\n  get fileInput(){\r\n    return document.getElementById('photoUpload');\r\n  }\r\n\r\n  activate(){\r\n    this.storage.read('descriptor', (doc) => {\r\n      this.bbid = Encode.BBID(doc);\r\n    });\r\n  }\r\n\r\n  previewImage(){\r\n    let fileHandle = this.fileInput.files[0];\r\n    if(fileHandle) {\r\n      this.reader.readAsDataURL(fileHandle);\r\n    }\r\n  }\r\n\r\n  create() {\r\n    this.busy = true;\r\n    return this.eightBrick.create(this.bbid, this.elementId, this.photoData)\r\n      .catch(() => { })\r\n      .then(() => {\r\n        this.busy = false;\r\n      });\r\n  }\r\n}\r\n","import radix64 from 'radix-64';\r\n\r\nexport class Encode {\r\n  static radix(value) {\r\n    let r = radix64();\r\n    return r.encodeInt(value);\r\n  }\r\n\r\n  static padRight(any, padWith, length){\r\n    let str = any.toString();\r\n    for(let repeatFor = length - str.length; repeatFor>0; repeatFor--) {\r\n      str += padWith;\r\n    }\r\n    return str;\r\n  }\r\n\r\n  static toBBID(descriptor) {\r\n    let $id = ''\r\n    // Brand (assumed to be LEGO)\r\n    $id += Encode.radix(1);\r\n\r\n    // Is Assembly\r\n    $id += Encode.radix(descriptor.isAssembly ? 1 : 0);\r\n\r\n    // Stud Faces\r\n    let $block = '';\r\n    (descriptor.studOrientations || []).forEach(arr => {\r\n      $block += Encode.radix(arr.max);\r\n      $block += Encode.radix(arr.min);\r\n      $block += Encode.radix(arr.adjustment);\r\n    });\r\n    $id += Encode.padRight($block, '-', 15);\r\n\r\n    // Height\r\n    let $heightBlock = Encode.radix(descriptor.height || 0);\r\n    $id += Encode.padRight($heightBlock, '.', 2);\r\n\r\n    // Hinge\r\n    let $hingeBlock = '';\r\n    (descriptor.studOrientations || []).forEach(arr => {\r\n      $hingeBlock += Encode.radix(arr.orientation ? arr.orientation : 0);\r\n      $hingeBlock += Encode.radix(arr.type ? arr.type : 0);\r\n    });\r\n    $id += Encode.padRight($hingeBlock, '-', 6);\r\n\r\n    // sockets\r\n    let $socketBlock = '';\r\n    (descriptor.sockets || []).forEach(arr => {\r\n      $socketBlock += Encode.radix(arr.max);\r\n      $socketBlock += Encode.radix(arr.min);\r\n      $socketBlock += Encode.radix(arr.adjustment);\r\n    });\r\n    $id += Encode.padRight($socketBlock, '-', 15);\r\n\r\n    // clips\r\n    let $clipsBlock = '';\r\n    (descriptor.clips || []).forEach(arr => {\r\n      $clipsBlock += Encode.radix(arr.count);\r\n    });\r\n    $id += Encode.padRight($clipsBlock, '-', 4);\r\n\r\n    // axle sockets\r\n    $id += Encode.radix(descriptor.axleSockets || 0);\r\n\r\n    // axles\r\n    let $axleBlock = '';\r\n    (descriptor.axles || []).forEach(arr => {\r\n      $axleBlock += Encode.radix(arr.lengthUnit);\r\n    });\r\n    $id += Encode.padRight($axleBlock, '-', 4);\r\n\r\n    // pins\r\n    let $pinsBlock = '';\r\n    (descriptor.pins || []).forEach(arr => {\r\n      $pinsBlock += Encode.radix(arr.lengthUnit);\r\n      $pinsBlock += Encode.radix(arr.count);\r\n    });\r\n    $id += Encode.padRight($pinsBlock, '-', 6);\r\n\r\n    // pin sockets\r\n    let $pinSocketsBlock = '';\r\n    (descriptor.pinSockets || []).forEach(arr => {\r\n      $pinSocketsBlock += Encode.radix(arr.count);\r\n    });\r\n    $id += Encode.padRight($pinSocketsBlock, '-', 4);\r\n\r\n    // bars\r\n    let $barsBlock = '';\r\n    (descriptor.bars || []).forEach(arr => {\r\n      $barsBlock += Encode.radix(arr.count);\r\n    });\r\n    $id += Encode.padRight($barsBlock, '-', 4);\r\n\r\n    // sleeves\r\n    let $sleeveBlock = '';\r\n    (descriptor.sleeves || []).forEach(arr => {\r\n      $sleeveBlock += Encode.radix(arr.count);\r\n    });\r\n    $id += Encode.padRight($sleeveBlock, '-', 4);\r\n\r\n    // mini bars\r\n    $id += Encode.radix(descriptor.isMiniBar ? 1 : 0);\r\n\r\n    // colors\r\n    let $colorBlock = '';\r\n    (descriptor.colors || []).forEach(color => {\r\n      $colorBlock += Encode.radix(color.colorId);\r\n    });\r\n    $id += Encode.padRight($colorBlock, '-', 4);\r\n\r\n    // stickers\r\n    $id += Encode.radix(descriptor.stickerMin || 0);\r\n    $id += Encode.radix(descriptor.stickerMax || 0);\r\n\r\n    return $id;\r\n  }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\nPromise.config({\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import PouchDb from 'pouchdb';\r\n\r\nexport class Storage {\r\n  constructor() {\r\n    this.db = new PouchDb('aurelia-app');\r\n  }\r\n\r\n  update(key, data) {\r\n    if(typeof data == 'object'){\r\n      data._id = key;\r\n    }else{\r\n      data = {\r\n        [key]: data\r\n      };\r\n    }\r\n    return this.db.put(data);\r\n  }\r\n\r\n  read(key) {\r\n    return this.db.get(key);\r\n  }\r\n\r\n  listen(key, listener) {\r\n    let options = {\r\n      since: 'now',\r\n      live: true,\r\n      include_docs: true\r\n    };\r\n\r\n    return this.db.changes(options).on('change', (change) => {\r\n      if(change.id == key){\r\n        listener(change);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client';\r\n\r\nexport class EightBrick{\r\n  constructor(){\r\n    let httpClient = new HttpClient();\r\n    httpClient.configure(config => {\r\n      config\r\n        .useStandardConfiguration()\r\n        .withBaseUrl('http://localhost:8888/api/')\r\n        .withDefaults({\r\n          headers: {\r\n            'X-Requested-With': 'Fetch'\r\n          }\r\n        });\r\n    });\r\n    this.http = httpClient;\r\n  }\r\n\r\n  create(bbid, elementId, photo) {\r\n    let options = {\r\n      method: 'POST',\r\n      body: json({\r\n        bbid: bbid,\r\n        elementId: elementId,\r\n        photo: photo\r\n      })\r\n    };\r\n    return this.http.fetch('pieces', options);\r\n  }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorAssembly {\r\n  constructor(store){\r\n    this.isAssembly = false;\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.isAssembly = doc.isAssembly || this.isAssembly || false;\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  toggleAssembly() {\r\n    this.isAssembly = !this.isAssembly;\r\n\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.isAssembly = this.isAssembly;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorAssembly {\r\n  constructor(store){\r\n    this.axleSockets = '';\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.axleSockets = doc.axleSockets || this.axleSockets || false;\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  updateAxles() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.axleSockets = this.axleSockets;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorAxles{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.axle0= new AxleArrangement();\r\n    this.axle0.show = true;\r\n\r\n    this.axle1 = new AxleArrangement();\r\n    this.axle2 = new AxleArrangement();\r\n    this.axle3 = new AxleArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.axlesChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.axles = doc.axles || [];\r\n        doc.axles.forEach( (h, index) => {\r\n          this['axle' + index] = new AxleArrangement(h);\r\n          if(index === 0) {\r\n            this['axle' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  axlesChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.axles = [\r\n          Object.assign({}, this.axle0),\r\n          Object.assign({}, this.axle1),\r\n          Object.assign({}, this.axle2),\r\n          Object.assign({}, this.axle3)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(axle) {\r\n    axle.toggle();\r\n    this.axlesChanged();\r\n  }\r\n}\r\n\r\nexport class AxleArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.lengthUnit = data.lengthUnit || '';\r\n\r\n      this.show = (this.lengthUnit);\r\n    }\r\n\r\n    get lengthMm(){\r\n      if(this.lengthUnit) {\r\n        return this.lengthUnit * 8;\r\n      }\r\n      else{\r\n        return '';\r\n      }\r\n    }\r\n\r\n    set lengthMm(value){\r\n      if(!value){\r\n        this.lengthUnit = 0;\r\n      }else{\r\n        this.lengthUnit = Math.round(value/8);\r\n      }\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorBars{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.bar0= new BarArrangement();\r\n    this.bar0.show = true;\r\n\r\n    this.bar1 = new BarArrangement();\r\n    this.bar2 = new BarArrangement();\r\n    this.bar3 = new BarArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.barsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.bars = doc.bars || [];\r\n        doc.bars.forEach( (h, index) => {\r\n          this['bar' + index] = new BarArrangement(h);\r\n          if(index === 0) {\r\n            this['bar' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  barsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.bars = [\r\n          Object.assign({}, this.bar0),\r\n          Object.assign({}, this.bar1),\r\n          Object.assign({}, this.bar2),\r\n          Object.assign({}, this.bar3)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(bar) {\r\n    bar.toggle();\r\n    this.barsChanged();\r\n  }\r\n}\r\n\r\nexport class BarArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.count = data.count || '';\r\n\r\n      this.show = (this.count);\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorClips{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.clip0= new ClipArrangement();\r\n    this.clip0.show = true;\r\n\r\n    this.clip1 = new ClipArrangement();\r\n    this.clip2 = new ClipArrangement();\r\n    this.clip3 = new ClipArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.clipsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.clips = doc.clips || [];\r\n        doc.clips.forEach( (h, index) => {\r\n          this['clip' + index] = new ClipArrangement(h);\r\n          if(index === 0) {\r\n            this['clip' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  clipsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.clips = [\r\n          Object.assign({}, this.clip0),\r\n          Object.assign({}, this.clip1),\r\n          Object.assign({}, this.clip2),\r\n          Object.assign({}, this.clip3)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(clip) {\r\n    clip.toggle();\r\n    this.clipsChanged();\r\n  }\r\n}\r\n\r\nexport class ClipArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.count = data.count || '';\r\n\r\n      this.show = (this.count);\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\nimport {Colors, Color} from 'colorPalette';\r\n\r\n@inject(Storage)\r\nexport class DescriptorColor{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.changeCallback = () => {\r\n      this.colorsChanged();\r\n    }\r\n\r\n    this.color0= new ColorOption(null, this.changeCallback);\r\n    this.color0.show = true;\r\n\r\n    this.color1 = new ColorOption(null, this.changeCallback);\r\n    this.color2 = new ColorOption(null, this.changeCallback);\r\n    this.color3 = new ColorOption(null, this.changeCallback);\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.colors = doc.colors || [];\r\n        doc.colors.forEach( (h, index) => {\r\n          this['color' + index] = new ColorOption(h);\r\n          this['color' + index].cb = this.changeCallback;\r\n          if(index === 0) {\r\n            this['color' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  colorsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.colors = [\r\n          { colorId: this.color0.colorId },\r\n          { colorId: this.color1.colorId },\r\n          { colorId: this.color2.colorId },\r\n          { colorId: this.color3.colorId }\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeColor(color) {\r\n    color.toggle();\r\n    this.colorsChanged();\r\n  }\r\n\r\n  clearColorId(color) {\r\n    color.colorId = '';\r\n    this.colorsChanged();\r\n  }\r\n}\r\n\r\nexport class ColorOption {\r\n    constructor(data, cb) {\r\n      data = data || {};\r\n      this.colorId = data.colorId || '';\r\n      this._searchTerm = '';\r\n      this._searchMatches = [];\r\n      this.show = (this.colorId);\r\n      if(cb){\r\n        this.cb = cb;\r\n      }\r\n    }\r\n\r\n    get colors() {\r\n      return Colors;\r\n    }\r\n\r\n    get searchTerm(){\r\n      return this._searchTerm;\r\n    }\r\n\r\n    set searchTerm(value) {\r\n      this._searchTerm = value\r\n      if(this._searchTerm.length > 1){\r\n        this.searchForColor();\r\n      }else{\r\n        this._searchMatches.splice(0);\r\n      }\r\n    }\r\n\r\n    get searchMatches() {\r\n      return this._searchMatches.sort((a, b) => {\r\n        return b.usage - a.usage;\r\n      });\r\n    }\r\n\r\n    get colorSelectedCss() {\r\n      if(Colors.has(colorId)){\r\n        return Colors.get(colorId).css;\r\n      }\r\n      return 'transparent';\r\n    }\r\n\r\n    searchForColor() {\r\n      this._searchMatches.splice(0);\r\n      let terms = this._searchTerm.toLowerCase();\r\n      terms = terms.replace('transparent', 'trans');\r\n      terms = terms.split(' ');\r\n\r\n      let matches = new Map();\r\n      for (let [colorId, color] of Colors) {\r\n        let termHits = 0;\r\n        terms.forEach(t => {\r\n            let nameMatch = color.name.toLowerCase().indexOf(t) > -1;\r\n            let commonMatch = color.common.toLowerCase().indexOf(t) > -1;\r\n            let idMatch = color.id == t;\r\n            let hasMatch = nameMatch || commonMatch || idMatch;\r\n            if(hasMatch){\r\n              termHits++;\r\n            }\r\n        });\r\n        if(termHits == terms.length && !matches.has(color.id)){\r\n          matches.set(color.id, color);\r\n        }\r\n      }\r\n      for (let [key, match] of matches){\r\n        this._searchMatches.push(match);\r\n      }\r\n    }\r\n\r\n    selectColor(color){\r\n      this.colorId = color.id;\r\n      this._searchMatches.splice(0);\r\n      this.searchTerm = '';\r\n      this.cb();\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.colorId = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\nimport {Router} from 'aurelia-router';\r\n\r\n@inject(Storage, Router)\r\nexport class DescriptorDashboard {\r\n   constructor(store, router) {\r\n     this.router = router;\r\n     this.storage = store;\r\n     this.settingsListener = null;\r\n     this.descriptor = {};\r\n   }\r\n\r\n   attached() {\r\n     this.settingsListener = this.storage.listen('descriptor', (doc) => { this.settings(doc) });\r\n   }\r\n\r\n   activate(){\r\n     return this.storage.read('descriptor')\r\n      .then(doc => {\r\n        this.descriptor = Object.assign({}, doc);\r\n      }).catch(err => {});\r\n   }\r\n\r\n   settings(doc) {\r\n     let keys = Object.keys(this.descriptor);\r\n     keys.forEach(key => {\r\n       this.descriptor[key] = undefined;\r\n     })\r\n\r\n     this.descriptor = Object.assign(this.descriptor, doc);\r\n   }\r\n\r\n   detached() {\r\n     this.settingsListener.cancel();\r\n   }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorHeight {\r\n  constructor(store){\r\n    this.height = '';\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.height = doc.height || this.height || false;\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  updateHeight() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.height = this.height;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  get heightMm() {\r\n    if(this.height) {\r\n      return this.height * 2;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  set heightMm(value) {\r\n    if(value){\r\n      this.height = Math.round(value/2);\r\n    }else{\r\n      this.height = '';\r\n    }\r\n    this.updateHeight();\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorHinge{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.hinge0= new HingeArrangement();\r\n    this.hinge0.show = true;\r\n\r\n    this.hinge1 = new HingeArrangement();\r\n    this.hinge2 = new HingeArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.hingesChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.hinges = doc.hinges || [];\r\n        doc.hinges.forEach( (h, index) => {\r\n          this['hinge' + index] = new HingeArrangement(h);\r\n          if(index === 0) {\r\n            this['hinge' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  hingesChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.hinges = [\r\n          Object.assign({}, this.hinge0),\r\n          Object.assign({}, this.hinge1),\r\n          Object.assign({}, this.hinge2)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeOrientation(hinge) {\r\n    hinge.toggle();\r\n    this.hingesChanged();\r\n  }\r\n}\r\n\r\nexport class HingeArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.orientation = data.orientation || '';\r\n      this.type = data.type || '';\r\n\r\n      this.show = (this.orientation || this.type);\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.orientation = '';\r\n        this.type = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n\r\nexport let HingeOrientation = new Map([\r\n  ['0', 'None'],\r\n  ['1', 'Horizontal'],\r\n  ['2', 'Vertical'],\r\n  ['3', 'Both']\r\n]);\r\n\r\nexport let HingeType = new Map([\r\n  ['0', 'None'],\r\n  ['1', 'Ridge'],\r\n  ['2', 'Narrow Finger'],\r\n  ['3', 'Wide Finger'],\r\n  ['4', '1 x 2 Brick Hinge'],\r\n  ['5', 'Long Pin'],\r\n  ['6', 'Short Pin']\r\n]);\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n/**\r\n * A viewmodel for the Descriptor Dashboard where you can configure different\r\n * options to describe the part.\r\n */\r\n@inject(Storage)\r\nexport class DescriptorIndex{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.navigatingTo = null;\r\n    this.routes = [\r\n      {\r\n        route: '',\r\n        name: 'descriptor-dashboard',\r\n        moduleId: './dashboard'\r\n      },\r\n      {\r\n        route:    'assembly',\r\n        title:    'Assembly',\r\n        name:     'descriptor-assembly',\r\n        moduleId: './assembly',\r\n        nav:      true,\r\n        settings: {\r\n            isAssembly: false\r\n        }\r\n      },\r\n      {\r\n        route:    'studs',\r\n        title:    'Studs',\r\n        name:     'descriptor-studs',\r\n        moduleId: './studs',\r\n        nav:      true\r\n      },\r\n      {\r\n        route:    'height',\r\n        title:    'Height',\r\n        name:     'descriptor-height',\r\n        moduleId: './height',\r\n        nav:      true\r\n      },\r\n      {\r\n        route:    'hinge',\r\n        title:    'Hinges',\r\n        name:     'descriptor-hinge',\r\n        moduleId: './hinge',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'sockets',\r\n        title:    'Sockets',\r\n        name:     'descriptor-sockets',\r\n        moduleId: './sockets',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'clips',\r\n        title:    'Clips',\r\n        name:     'descriptor-clips',\r\n        moduleId: './clips',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'axle-sockets',\r\n        title:    'Axle Sockets',\r\n        name:     'descriptor-axle-sockets',\r\n        moduleId: './axle-sockets',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'axles',\r\n        title:    'Axles',\r\n        name:     'descriptor-axles',\r\n        moduleId: './axles',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'pins',\r\n        title:    'Pins',\r\n        name:     'descriptor-pins',\r\n        moduleId: './pins',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'pin-sockets',\r\n        title:    'Pin Sockets',\r\n        name:     'descriptor-pin-sockets',\r\n        moduleId: './pin-sockets',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'bars',\r\n        title:    'Clip Bars',\r\n        name:     'descriptor-bars',\r\n        moduleId: './bars',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'sleeves',\r\n        title:    'Bar Sleeves',\r\n        name:     'descriptor-sleeves',\r\n        moduleId: './sleeves',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'mini-bar',\r\n        title:    'Mini Bar',\r\n        name:     'descriptor-mini-bar',\r\n        moduleId: './mini-bar',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'colors',\r\n        title:    'Colors',\r\n        name:     'descriptor-colors',\r\n        moduleId: './colors',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'sticker',\r\n        title:    'Sticker',\r\n        name:     'descriptor-sticker',\r\n        moduleId: './sticker',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'printed',\r\n        title:    'Printed',\r\n        name:     'descriptor-printed',\r\n        moduleId: './printed',\r\n        nav:       true\r\n      },\r\n      {\r\n        route:    'create',\r\n        title:    'Create New Piece',\r\n        name:     'create',\r\n        moduleId: '../create',\r\n        nav:       true\r\n      }\r\n    ];\r\n  }\r\n\r\n  activate(params, config, instruction) {\r\n    this.navigatingTo = this.routes.find(r => r.route.indexOf(params.path) > -1);\r\n  }\r\n\r\n  configureRouter(config, router){\r\n    this.router = router;\r\n    config.map(this.routes);\r\n  }\r\n\r\n  clearAttributes(){\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc = {\r\n          _rev: doc._rev\r\n        };\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorMiniBar {\r\n  constructor(store){\r\n    this.isMiniBar = false;\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.isMiniBar = doc.isMiniBar || this.isMiniBar || false;\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  toggleMiniBar() {\r\n    this.isMiniBar = !this.isMiniBar;\r\n\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.isMiniBar = this.isMiniBar;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorPinSockets{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.pinSocket0= new PinSocketArrangement();\r\n    this.pinSocket0.show = true;\r\n\r\n    this.pinSocket1 = new PinSocketArrangement();\r\n    this.pinSocket2 = new PinSocketArrangement();\r\n    this.pinSocket3 = new PinSocketArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.pinSocketsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.pinSockets = doc.pinSockets || [];\r\n        doc.pinSockets.forEach( (h, index) => {\r\n          this['pinSocket' + index] = new PinSocketArrangement(h);\r\n          if(index === 0) {\r\n            this['pinSocket' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  pinSocketsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.pinSockets = [\r\n          Object.assign({}, this.pinSocket0),\r\n          Object.assign({}, this.pinSocket1),\r\n          Object.assign({}, this.pinSocket2),\r\n          Object.assign({}, this.pinSocket3)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(pinSocket) {\r\n    pinSocket.toggle();\r\n    this.pinSocketsChanged();\r\n  }\r\n}\r\n\r\nexport class PinSocketArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.count = data.count || '';\r\n\r\n      this.show = (this.count);\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorPins{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.pin0= new PinArrangement();\r\n    this.pin0.show = true;\r\n\r\n    this.pin1 = new PinArrangement();\r\n    this.pin2 = new PinArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.pinsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.pins = doc.pins || [];\r\n        doc.pins.forEach( (h, index) => {\r\n          this['pin' + index] = new PinArrangement(h);\r\n          if(index === 0) {\r\n            this['pin' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  pinsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.pins = [\r\n          Object.assign({}, this.pin0),\r\n          Object.assign({}, this.pin1),\r\n          Object.assign({}, this.pin2)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(pin) {\r\n    pin.toggle();\r\n    this.pinsChanged();\r\n  }\r\n}\r\n\r\nexport class PinArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.lengthUnit = data.lengthUnit || '';\r\n      this.count = data.count || '';\r\n\r\n      this.show = (this.lengthUnit || this.count);\r\n    }\r\n\r\n    get lengthMm(){\r\n      if(this.lengthUnit) {\r\n        return this.lengthUnit * 8;\r\n      }\r\n      else{\r\n        return '';\r\n      }\r\n    }\r\n\r\n    set lengthMm(value){\r\n      if(!value){\r\n        this.lengthUnit = 0;\r\n      }else{\r\n        this.lengthUnit = Math.round(value/8);\r\n      }\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorPrinted {\r\n  constructor(store){\r\n    this.isPrinted = false;\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.isPrinted = doc.isPrinted || this.isPrinted || false;\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  togglePrinted() {\r\n    this.isPrinted = !this.isPrinted;\r\n\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.isPrinted = this.isPrinted;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorSleeves{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.sleeve0= new SleeveArrangement();\r\n    this.sleeve0.show = true;\r\n\r\n    this.sleeve1 = new SleeveArrangement();\r\n    this.sleeve2 = new SleeveArrangement();\r\n    this.sleeve3 = new SleeveArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.sleevesChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.sleeves = doc.sleeves || [];\r\n        doc.sleeves.forEach( (h, index) => {\r\n          this['sleeve' + index] = new SleeveArrangement(h);\r\n          if(index === 0) {\r\n            this['sleeve' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  sleevesChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.sleeves = [\r\n          Object.assign({}, this.sleeve0),\r\n          Object.assign({}, this.sleeve1),\r\n          Object.assign({}, this.sleeve2),\r\n          Object.assign({}, this.sleeve3)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(sleeve) {\r\n    sleeve.toggle();\r\n    this.sleevesChanged();\r\n  }\r\n}\r\n\r\nexport class SleeveArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.count = data.count || '';\r\n\r\n      this.show = (this.count);\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.count = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorSocket{\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.socket0= new SocketArrangement();\r\n    this.socket0.show = true;\r\n\r\n    this.socket1 = new SocketArrangement();\r\n    this.socket2 = new SocketArrangement();\r\n    this.socket3 = new SocketArrangement();\r\n    this.socket4 = new SocketArrangement();\r\n\r\n    this.changeCallback = () => {\r\n      this.socketsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.sockets = doc.sockets || [];\r\n        doc.sockets.forEach( (h, index) => {\r\n          this['socket' + index] = new SocketArrangement(h);\r\n          if(index === 0) {\r\n            this['socket' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  socketsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.sockets = [\r\n          Object.assign({}, this.socket0),\r\n          Object.assign({}, this.socket1),\r\n          Object.assign({}, this.socket2),\r\n          Object.assign({}, this.socket3),\r\n          Object.assign({}, this.socket4)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeSide(socket) {\r\n    socket.toggle();\r\n    this.socketsChanged();\r\n  }\r\n}\r\n\r\nexport class SocketArrangement {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.max = data.max || '';\r\n      this.min = data.min || '';\r\n      this.adjustment = data.adjustment || '';\r\n\r\n      this.show = (this.max || this.min || this.adjustment);\r\n    }\r\n    get total() {\r\n      if(this.max || this.min || this.adjustment) {\r\n        return this.max * this.min - this.adjustment;\r\n      }\r\n      else{\r\n        return '';\r\n      }\r\n    }\r\n\r\n    set total(value){\r\n      if(!value){\r\n        this.adjustment = 0;\r\n      }else{\r\n        this.adjustment = this.max * this.min - value;\r\n      }\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.min = '';\r\n        this.max = '';\r\n        this.adjustment = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(Storage)\r\nexport class DescriptorSticker {\r\n  constructor(store){\r\n    this.stickerMin = '';\r\n    this.stickerMax = '';\r\n\r\n    this.storage = store;\r\n  }\r\n\r\n  activate() {\r\n    return this.storage.read('descriptor').then(doc => {\r\n      this.stickerMin = doc.stickerMin || this.stickerMin || '';\r\n      this.stickerMax = doc.stickerMax || this.stickerMax || '';\r\n\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  updateSticker() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.stickerMin = this.stickerMin;\r\n        doc.stickerMax = this.stickerMax;\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  get stickerMinMm() {\r\n    if(this.stickerMin) {\r\n      return this.stickerMin * 2;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  set stickerMinMm(value) {\r\n    if(value){\r\n      this.stickerMin = Math.round(value/2);\r\n    }else{\r\n      this.stickerMin = '';\r\n    }\r\n    this.updateSticker();\r\n  }\r\n\r\n  get stickerMinMm() {\r\n    if(this.stickerMin) {\r\n      return this.stickerMin * 2;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  set stickerMaxMm(value) {\r\n    if(value){\r\n      this.stickerMax = Math.round(value/2);\r\n    }else{\r\n      this.stickerMax = '';\r\n    }\r\n    this.updateSticker();\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Storage} from 'storage';\r\n\r\n@inject(Storage)\r\nexport class DescriptorStuds {\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.orientation0 = new StudOrientation();\r\n    this.orientation0.show = true;\r\n\r\n    this.orientation1 = new StudOrientation();\r\n    this.orientation2 = new StudOrientation();\r\n    this.orientation3 = new StudOrientation();\r\n    this.orientation4 = new StudOrientation();\r\n\r\n    this.changeCallback = () => {\r\n      this.studsChanged();\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    this.storage.read('descriptor')\r\n      .then(doc => {\r\n        doc.studOrientations = doc.studOrientations || [];\r\n        doc.studOrientations.forEach( (orientation, index) => {\r\n          this['orientation' + index] = new StudOrientation(orientation);\r\n          if(index === 0) {\r\n            this['orientation' + index].show = true;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  studsChanged() {\r\n    this.storage.read('descriptor')\r\n      .catch(err => { return {}; })\r\n      .then(doc => {\r\n        doc.studOrientations = [\r\n          Object.assign({}, this.orientation0),\r\n          Object.assign({}, this.orientation1),\r\n          Object.assign({}, this.orientation2),\r\n          Object.assign({}, this.orientation3),\r\n          Object.assign({}, this.orientation4)\r\n        ];\r\n        return this.storage.update('descriptor', doc);\r\n      })\r\n  }\r\n\r\n  removeOrientation(orientation) {\r\n    orientation.toggle();\r\n    this.studsChanged();\r\n  }\r\n}\r\n\r\nexport class StudOrientation {\r\n    constructor(data) {\r\n      data = data || {};\r\n      this.max = data.max || '';\r\n      this.min = data.min || '';\r\n      this.adjustment = data.adjustment || '';\r\n\r\n      this.show = (this.max || this.min || this.adjusment);\r\n    }\r\n\r\n    get total() {\r\n      if(this.max || this.min || this.adjusment) {\r\n        return this.max * this.min - this.adjustment;\r\n      }\r\n      else{\r\n        return '';\r\n      }\r\n    }\r\n\r\n    set total(value){\r\n      if(!value){\r\n        this.adjustment = 0;\r\n      }else{\r\n        this.adjustment = this.max * this.min - value;\r\n      }\r\n    }\r\n\r\n    toggle(){\r\n      if(this.show){\r\n        this.max = '';\r\n        this.min = '';\r\n        this.adjustment = '';\r\n      }\r\n      this.show = !this.show;\r\n    }\r\n}\r\n","export class Panel {\r\n  configureRouter(config, router){\r\n    this.router = router;\r\n    config.map([\r\n      {\r\n        route:      ['', '*path'],\r\n        name:       'responsive',\r\n        title:      'Matches',\r\n        moduleId:   './responsive'\r\n      }\r\n    ]);\r\n  }\r\n}\r\n","import {Storage} from 'storage';\r\nimport {inject} from 'aurelia-framework';\r\nimport {Encode} from 'encoding';\r\nimport QRious from 'qrious';\r\n\r\n@inject(Storage)\r\nexport class Responsive {\r\n  constructor(storage){\r\n    this.storage = storage;\r\n    this.settingsListener = null;\r\n    this.descriptor = {};\r\n    this.qr = null;\r\n  }\r\n\r\n  get bbid() {\r\n    return Encode.toBBID(this.descriptor);\r\n  }\r\n\r\n  attached() {\r\n    this.settingsListener = this.storage.listen('descriptor', (change) => { this.updateDescriptor(change.doc) });\r\n\r\n    this.qr = new QRious({\r\n      element: document.getElementById('qr'),\r\n      value: this.bbid\r\n    });\r\n  }\r\n\r\n  activate(){\r\n    return this.storage.read('descriptor')\r\n     .then(doc => {\r\n       this.descriptor = Object.assign({}, doc);\r\n     }).catch(err => {});\r\n  }\r\n\r\n  updateDescriptor(doc) {\r\n    let keys = Object.keys(this.descriptor);\r\n    keys.forEach(key => {\r\n      this.descriptor[key] = undefined;\r\n    })\r\n\r\n    this.descriptor = Object.assign(this.descriptor, doc);\r\n    this.qr.value = this.bbid;\r\n  }\r\n\r\n  detached() {\r\n    this.settingsListener.cancel();\r\n  }\r\n\r\n\r\n}\r\n","export function configure(config) {\r\n  config.globalResources([\r\n    './elements/descriptor-navigation.html',\r\n    './value-converters/color',\r\n    './value-converters/hasValuesFor',\r\n    './value-converters/hinge'\r\n  ]);\r\n}\r\n","import {Colors} from 'colorPalette';\r\n\r\nexport class idToColorCssValueConverter{\r\n  toView(colorId){\r\n    if(Colors.has(colorId)){\r\n      return Colors.get(colorId).css;\r\n    }\r\n    return 'transparent';\r\n  }\r\n}\r\n\r\nexport class idToColorCommonNameValueConverter{\r\n  toView(colorId){\r\n    if(Colors.has(colorId)){\r\n      return Colors.get(colorId).common;\r\n    }\r\n    return '';\r\n  }\r\n}\r\n\r\nexport class idToColorNameValueConverter{\r\n  toView(colorId){\r\n    if(Colors.has(colorId)){\r\n      return Colors.get(colorId).name;\r\n    }\r\n    return '';\r\n  }\r\n}\r\n","export class hasValuesForValueConverter {\r\n  toView() {\r\n    let [source, ...properties] = Array.prototype.slice.call(arguments);\r\n    let hasValues = properties.reduce((acc, value) => {\r\n      if(source[value] || source[value]===0){\r\n        acc++;\r\n      }\r\n      return acc;\r\n    }, 0);\r\n    return hasValues == properties.length;\r\n  }\r\n}\r\n","import {HingeOrientation, HingeType} from 'descriptor/hinge';\r\n\r\nexport class toHingeOrientationValueConverter {\r\n  toView(value){\r\n    return HingeOrientation.get(value);\r\n  }\r\n}\r\n\r\nexport class toHingeTypeValueConverter {\r\n  toView(value){\r\n    return HingeType.get(value);\r\n  }\r\n}\r\n"],"sourceRoot":".."}